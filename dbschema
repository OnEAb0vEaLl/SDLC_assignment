CREATE DATABASE FinanceForge;
USE FinanceForge;

-- Users Table
CREATE TABLE Users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL, -- Store hashed passwords
    email VARCHAR(100) NOT NULL UNIQUE,
    contact_number VARCHAR(15), -- New column for storing contact numbers
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- Transactions Table
CREATE TABLE Transactions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    transaction_type ENUM('Deposit', 'Withdrawal') NOT NULL,
    amount DECIMAL(10, 2) NOT NULL,
    converted_amount DECIMAL(10, 2) NOT NULL,
    conversion_rate DECIMAL(10, 6) NOT NULL,
    currency_from VARCHAR(3) NOT NULL,
    currency_to VARCHAR(3) NOT NULL,
    transaction_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES Users(id) ON DELETE CASCADE
);

CREATE TABLE InvestmentPlan (
    id INT AUTO_INCREMENT PRIMARY KEY,
    min_initial_investment DECIMAL(10, 2) NOT NULL,
    min_monthly_investment DECIMAL(10, 2) NOT NULL,
    option_name VARCHAR(100) NOT NULL,
    predicted_returns DECIMAL(10, 2) DEFAULT 0,
    fees DECIMAL(10, 2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
);

CREATE TABLE InvestmentQuote (
    id INT AUTO_INCREMENT PRIMARY KEY,
    option_name VARCHAR(255) NOT NULL,
    max_investment_year DECIMAL(10, 2) NOT NULL,
    min_monthly_investment DECIMAL(10, 2) NOT NULL,
    min_initial_investment DECIMAL(10, 2) DEFAULT NULL,
    predicted_returns VARCHAR(50) NOT NULL,
    estimated_tax DECIMAL(10, 2) NOT NULL,
    group_fees DECIMAL(10, 2) NOT NULL
);


INSERT INTO InvestmentQuote (option_name, max_investment_year, min_monthly_investment, min_initial_investment, predicted_returns, estimated_tax, group_fees)
VALUES
('Basic Savings Plan', 25000.00, 75.00, NULL, '1.5% to 2.8%', 0.00, 0.2),
('High Yield Savings Plan', 60000.00, 150.00, 1200.00, '2.8% to 4.0%', 10.00, 0.4),
('Risk Managed Investment Plan', 120000.00, 250.00, 6000.00, '4.5% to 7%', 15.00, 0.6),
('Equity Investment Plan', 250000.00, 750.00, 15000.00, '7% to 12%', 20.00, 1.0);

